tasks:
  build:
    command: tsc --project tsconfig.build.json
    deps:
    - ~:cleanup
  cleanup:
    command: rimraf lib
  format:
    command: pnpm biome format --write
    options:
      affectedFiles: true
      affectedPassInputs: true
  lint:
    command: pnpm biome lint --write
    options:
      affectedFiles: true
      affectedPassInputs: true
  test:
    command: vitest run --passWithNoTests
    deps:
    - ~:build
  coverage:
    command: vitest run --passWithNoTests --coverage
    deps:
    - ~:build
