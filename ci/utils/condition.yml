# https://docs.gitlab.com/ee/ci/jobs/job_control.html
# https://docs.gitlab.com/ee/ci/variables/predefined_variables.html

# Only triggered on merge requests creation and update
.on-mr:
  only:
    - merge_requests

# Used to analyze the website
.on-schedule:
  only:
    refs:
      - $CI_DEFAULT_BRANCH
      - schedules
    variables:
      - $CI_COMMIT_REF_PROTECTED

# Used to deploy the website
.on-web:
  only:
    refs:
      - $CI_DEFAULT_BRANCH
      - web
    variables:
      - $CI_COMMIT_REF_PROTECTED

.on-default:
  only:
    refs:
      - $CI_DEFAULT_BRANCH
    variables:
      - $CI_COMMIT_REF_PROTECTED
  except:
    - schedules
